---
interface Props {
  variant?: 'default' | 'pro';
  promotion?: {
    title: string;
    message: string;
    code?: string;
    style?: 'highlight' | 'subtle' | 'urgent';
  };
}

const { variant = 'default', promotion } = Astro.props;

const defaultLinks = [
  { href: '/google-shopping-pro', label: 'Pro' },
  { href: '/guides', label: 'Guides' },
  { href: '/#pricing', label: 'Pricing' },
  { href: '/#contact', label: 'Contact' },
];

const proLinks = [
  { href: '/', label: 'Free Plugin' },
  { href: '/guides', label: 'Guides' },
  { href: '#pricing', label: 'Pricing' },
  { href: '#contact', label: 'Contact' },
];

const navLinks = variant === 'pro' ? proLinks : defaultLinks;

const ctaLink = variant === 'pro'
  ? { href: '#pricing', label: 'Buy Pro' }
  : { href: 'https://github.com/wooplugin/woo/releases/latest', label: 'Download' };
---

<header class="fixed top-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-sm border-b border-gray-100">
  {promotion && (
    <div class={`promo-banner promo-banner-${promotion.style || 'highlight'}`}>
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-center gap-3 flex-wrap text-sm">
        <span class="font-semibold">{promotion.title}:</span>
        <span>{promotion.message}</span>
        {promotion.code && (
          <code class="bg-white/20 px-2 py-0.5 rounded font-mono font-bold text-xs">{promotion.code}</code>
        )}
        <a href="/google-shopping-pro#pricing" class="bg-white text-gray-900 px-3 py-1 rounded-full text-xs font-semibold hover:bg-gray-100 transition-colors">
          Claim Offer
        </a>
      </div>
    </div>
  )}
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-16">
      <!-- Logo -->
      <a href="/" class="flex items-baseline">
        <span class="text-xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent">
          WooPlugin
        </span>
        <span class="text-sm font-medium text-text-muted">.pro</span>
      </a>

      <!-- Desktop Navigation -->
      <nav class="hidden md:flex items-center gap-8">
        {navLinks.map(link => (
          <a
            href={link.href}
            class="text-sm font-medium text-text-muted hover:text-primary transition-colors"
          >
            {link.label}
          </a>
        ))}
      </nav>

      <!-- CTA Button -->
      <a
        href={ctaLink.href}
        class="inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-primary hover:bg-primary-dark rounded-lg transition-colors"
      >
        {ctaLink.label}
      </a>
    </div>
  </div>
</header>

<style>
  .promo-banner {
    padding: 8px 0;
    text-align: center;
    color: white;
  }

  .promo-banner-urgent {
    background: linear-gradient(135deg, #dc2626 0%, #ea580c 100%);
  }

  .promo-banner-highlight {
    background: linear-gradient(135deg, #2563eb 0%, #7c3aed 100%);
  }

  .promo-banner-subtle {
    background: linear-gradient(135deg, #059669 0%, #0d9488 100%);
  }
</style>
