---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import ImageGallery from '../components/ImageGallery.astro';
import { Check } from 'lucide-react';
import { getCollection } from 'astro:content';

const screenshots = [
  {
    src: '/images/screenshots/woocommerce-google-shopping-product-tab.webp',
    alt: 'WooCommerce Google Shopping product tab with GTIN, MPN, Brand fields',
    caption: 'Google Shopping tab with GTIN, Brand, MPN, and Condition fields.',
  },
  {
    src: '/images/screenshots/google-shopping-feed-dashboard-woocommerce.webp',
    alt: 'Google Shopping feed dashboard for WooCommerce showing feed status and quick start',
    caption: 'Dashboard showing feed status, product count, and quick start guide.',
  },
  {
    src: '/images/screenshots/google-shopping-feed-widget-woocommerce.webp',
    alt: 'Google Shopping feed widget showing product count and feed status',
    caption: 'Feed widget on the product edit page with quick regenerate.',
  },
  {
    src: '/images/screenshots/woocommerce-google-shopping-settings.webp',
    alt: 'WooCommerce Google Shopping feed settings page',
    caption: 'Feed settings in WooCommerce Settings with store name, default brand, and feed URL.',
  },
];

// Get related guides
const allGuides = await getCollection('guides');
const relatedGuides = allGuides
  .filter(guide => guide.data.category === 'google-shopping')
  .slice(0, 3);

const features = [
  'GTIN, Brand, MPN, Condition fields',
  'Identifier Exists override',
  'Dedicated Google Shopping tab in product editor',
  'Support for variable products and variations',
  'Google Merchant Center XML feed generation',
  'Unlimited products (no artificial limits)',
  'WooCommerce GTIN field fallback (WC 9.2+)',
  'HPOS compatible (WooCommerce 8.x+)',
];

const requirements = [
  { label: 'WordPress', value: '6.0 or higher' },
  { label: 'WooCommerce', value: '8.0 or higher' },
  { label: 'PHP', value: '8.0 or higher' },
];

const changelog = [
  { version: '1.0.0', date: 'January 2026', changes: 'Initial release with GTIN, Brand, MPN fields and Google Merchant Center feed generation.' },
];
---

<Layout
  title="Product Feed for WooCommerce – Google Shopping | Free Download"
  description="Download Product Feed for WooCommerce. Add GTIN, Brand, MPN fields and generate Google Merchant Center feeds. Free, no limits."
>
  <Header />
  <main>
    <!-- Hero -->
    <section class="pt-32 pb-16 px-4 sm:px-6 lg:px-8">
      <div class="max-w-4xl mx-auto">
        <div class="text-center mb-8">
          <h1 class="text-4xl sm:text-5xl font-bold tracking-tight text-text mb-4">
            Product Feed for WooCommerce
            <span class="block text-3xl sm:text-4xl mt-2 bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent">Google Shopping</span>
          </h1>
          <p class="text-xl text-text-muted mb-8">
            Add product identifiers and generate Google Merchant Center feeds.
          </p>
          <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a
              href="#download"
              class="inline-flex items-center justify-center px-8 py-4 text-lg font-medium text-white bg-primary rounded-lg hover:bg-primary/90 transition-colors"
            >
              Download Free
              <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
              </svg>
            </a>
            <a
              href="#screenshots"
              class="inline-flex items-center justify-center px-8 py-4 text-lg font-medium text-text border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"
            >
              View Screenshots
            </a>
          </div>
        </div>

        <!-- Version badge -->
        <div class="flex justify-center">
          <div class="inline-flex items-center gap-4 px-4 py-2 bg-bg-alt rounded-full text-sm text-text-muted">
            <span>Version 1.0.0</span>
            <span class="w-1 h-1 bg-gray-300 rounded-full"></span>
            <span>Free & Open Source</span>
            <span class="w-1 h-1 bg-gray-300 rounded-full"></span>
            <span>GPL Licensed</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Screenshots -->
    <section id="screenshots" class="py-16 px-4 sm:px-6 lg:px-8 bg-bg-alt">
      <div class="max-w-5xl mx-auto">
        <h2 class="text-2xl font-bold text-text mb-8 text-center">Screenshots</h2>
        <ImageGallery screenshots={screenshots} />
      </div>
    </section>

    <!-- Features -->
    <section class="py-16 px-4 sm:px-6 lg:px-8">
      <div class="max-w-4xl mx-auto">
        <h2 class="text-2xl font-bold text-text mb-8 text-center">Features</h2>

        <div class="grid sm:grid-cols-2 gap-4">
          {features.map(feature => (
            <div class="flex items-start gap-3">
              <Check className="w-5 h-5 text-accent flex-shrink-0 mt-0.5" />
              <span class="text-text-muted">{feature}</span>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- Download & Requirements -->
    <section id="download" class="py-16 px-4 sm:px-6 lg:px-8 bg-bg-alt">
      <div class="max-w-4xl mx-auto">
        <div class="grid md:grid-cols-2 gap-12">
          <!-- Download -->
          <div>
            <h2 class="text-2xl font-bold text-text mb-6">Download</h2>
            <div class="bg-white rounded-xl border border-gray-200 p-6">
              <p class="text-text-muted mb-6">
                Download the plugin ZIP and install via WordPress.
              </p>

              <div class="space-y-4">
                <a
                  href="https://github.com/WooPlugin/product-feed-for-woocommerce/releases/latest/download/product-feed-for-woocommerce.zip"
                  class="flex items-center justify-between w-full px-4 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors"
                >
                  <span class="font-medium">Download ZIP</span>
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                  </svg>
                </a>

                <a
                  href="https://github.com/WooPlugin/product-feed-for-woocommerce/releases"
                  target="_blank"
                  rel="noopener"
                  class="flex items-center justify-between w-full px-4 py-3 border border-gray-200 text-text rounded-lg hover:bg-gray-50 transition-colors"
                >
                  <span class="font-medium">View on GitHub</span>
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                  </svg>
                </a>
              </div>
            </div>
          </div>

          <!-- Requirements -->
          <div>
            <h2 class="text-2xl font-bold text-text mb-6">Requirements</h2>
            <div class="bg-white rounded-xl border border-gray-200 p-6">
              <div class="space-y-4">
                {requirements.map(req => (
                  <div class="flex items-center justify-between py-2 border-b border-gray-100 last:border-0">
                    <span class="text-text-muted">{req.label}</span>
                    <span class="font-medium text-text">{req.value}</span>
                  </div>
                ))}
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Installation -->
    <section class="py-16 px-4 sm:px-6 lg:px-8">
      <div class="max-w-4xl mx-auto">
        <h2 class="text-2xl font-bold text-text mb-8 text-center">Installation</h2>

        <div class="max-w-md mx-auto">
          <ol class="space-y-3 text-text-muted">
            <li class="flex gap-3">
              <span class="flex-shrink-0 w-6 h-6 bg-primary/10 text-primary rounded-full flex items-center justify-center text-sm font-medium">1</span>
              <span>Download the plugin ZIP file above</span>
            </li>
            <li class="flex gap-3">
              <span class="flex-shrink-0 w-6 h-6 bg-primary/10 text-primary rounded-full flex items-center justify-center text-sm font-medium">2</span>
              <span>Go to Plugins → Add New → Upload Plugin</span>
            </li>
            <li class="flex gap-3">
              <span class="flex-shrink-0 w-6 h-6 bg-primary/10 text-primary rounded-full flex items-center justify-center text-sm font-medium">3</span>
              <span>Upload the ZIP and click Install Now</span>
            </li>
            <li class="flex gap-3">
              <span class="flex-shrink-0 w-6 h-6 bg-primary/10 text-primary rounded-full flex items-center justify-center text-sm font-medium">4</span>
              <span>Activate and go to WooCommerce → Settings → Google Shopping</span>
            </li>
          </ol>
        </div>
      </div>
    </section>

    <!-- Changelog -->
    <section class="py-16 px-4 sm:px-6 lg:px-8 bg-bg-alt">
      <div class="max-w-4xl mx-auto">
        <h2 class="text-2xl font-bold text-text mb-8 text-center">Changelog</h2>

        <div class="space-y-6">
          {changelog.map(release => (
            <div class="bg-white rounded-xl border border-gray-200 p-6">
              <div class="flex items-center gap-4 mb-3">
                <span class="px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium">
                  v{release.version}
                </span>
                <span class="text-sm text-text-muted">{release.date}</span>
              </div>
              <p class="text-text-muted">{release.changes}</p>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- Related Guides -->
    {relatedGuides.length > 0 && (
      <section class="py-16 px-4 sm:px-6 lg:px-8">
        <div class="max-w-4xl mx-auto">
          <h2 class="text-2xl font-bold text-text mb-8 text-center">Related Guides</h2>

          <div class="grid md:grid-cols-3 gap-6">
            {relatedGuides.map(guide => (
              <a
                href={`/guides/${guide.slug}`}
                class="block p-6 bg-bg-alt rounded-xl hover:bg-gray-100 transition-colors"
              >
                <h3 class="font-semibold text-text mb-2 line-clamp-2">{guide.data.title}</h3>
                <p class="text-sm text-text-muted line-clamp-2">{guide.data.description}</p>
              </a>
            ))}
          </div>

          <div class="text-center mt-8">
            <a href="/guides" class="text-primary hover:underline">
              View all guides →
            </a>
          </div>
        </div>
      </section>
    )}

    <!-- CTA -->
    <section class="py-16 px-4 sm:px-6 lg:px-8 bg-gradient-to-r from-primary to-secondary">
      <div class="max-w-3xl mx-auto text-center">
        <h2 class="text-2xl sm:text-3xl font-bold text-white mb-4">
          Ready to get started?
        </h2>
        <p class="text-white/80 mb-8">
          Free forever. No credit card required.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a
            href="https://github.com/WooPlugin/product-feed-for-woocommerce/releases/latest/download/product-feed-for-woocommerce.zip"
            class="inline-flex items-center justify-center px-8 py-4 text-lg font-medium text-primary bg-white rounded-lg hover:bg-gray-100 transition-colors"
          >
            Download Free
            <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
            </svg>
          </a>
          <a
            href="/google-shopping-pro"
            class="inline-flex items-center justify-center px-8 py-4 text-lg font-medium text-white border-2 border-white rounded-lg hover:bg-white/10 transition-colors"
          >
            View Pro Features
          </a>
        </div>
      </div>
    </section>
  </main>
  <Footer />
</Layout>
